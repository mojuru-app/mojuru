TODO: migrate current logic to lib-logic. that's way now lib is kinda empty